<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
        xmlns:android="http://schemas.android.com/apk/res/android"
        id="cordova-plugin-enext-biometria"
        version="1.0.0">

    <name>Enext Biometria</name>
    <description>Plugin de validación biométrica facial para Enext</description>
    <license>MIT</license>
    <keywords>cordova,biometria,facial,enext,validacion</keywords>
    <author>Enext</author>

    <js-module src="www/EnextBiometria.js" name="EnextBiometria">
        <clobbers target="EnextBiometria" />
    </js-module>

    <!-- Hooks para copiar archivos UI -->
    <hook type="after_plugin_install" src="scripts/after_plugin_install.js" />
    <hook type="after_prepare" src="scripts/after_prepare.js" />

    <!-- Android -->
    <platform name="android">
        <config-file target="res/xml/config.xml" parent="/*">
            <feature name="EnextBiometria">
                <param name="android-package" value="com.enext.biometria.EnextBiometria"/>
            </feature>
        </config-file>

        <config-file target="AndroidManifest.xml" parent="/*">
            <uses-permission android:name="android.permission.INTERNET" />
            <uses-permission android:name="android.permission.CAMERA" />
            <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
            <uses-feature android:name="android.hardware.camera" android:required="true" />
            <uses-feature android:name="android.hardware.camera.autofocus" android:required="false" />
        </config-file>

        <config-file target="AndroidManifest.xml" parent="/manifest/application">
            <activity 
                android:name="com.enext.biometria.BiometriaActivity"
                android:theme="@style/Theme.AppCompat.Light.NoActionBar"
                android:screenOrientation="portrait"
                android:configChanges="orientation|keyboardHidden|screenSize">
            </activity>
        </config-file>

        <!-- Java source files -->
        <source-file src="src/android/EnextBiometria.java" target-dir="src/com/enext/biometria/" />
        <source-file src="src/android/BiometriaActivity.java" target-dir="src/com/enext/biometria/" />

        <!-- Dependency: cordova-plugin-advanced-http -->
        <dependency id="cordova-plugin-advanced-http" version=">=3.0.0" />
    </platform>

</plugin>
